<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Data.Star.BoundedVec</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- The Agda standard library</a>
<a id="103" class="Comment">--</a>
<a id="106" class="Comment">-- Bounded vectors (inefficient implementation)</a>
<a id="154" class="Comment">------------------------------------------------------------------------</a>

<a id="228" class="Comment">-- Vectors of a specified maximum length.</a>

<a id="271" class="Symbol">{-#</a> <a id="275" class="Keyword">OPTIONS</a> <a id="283" class="Pragma">--with-K</a> <a id="292" class="Pragma">--safe</a> <a id="299" class="Symbol">#-}</a>

<a id="304" class="Keyword">module</a> <a id="311" href="Data.Star.BoundedVec.html" class="Module">Data.Star.BoundedVec</a> <a id="332" class="Keyword">where</a>

<a id="339" class="Keyword">import</a> <a id="346" href="Data.Maybe.Base.html" class="Module">Data.Maybe.Base</a> <a id="362" class="Symbol">as</a> <a id="365" class="Module">Maybe</a>
<a id="371" class="Keyword">open</a> <a id="376" class="Keyword">import</a> <a id="383" href="Data.Star.Nat.html" class="Module">Data.Star.Nat</a>
<a id="397" class="Keyword">open</a> <a id="402" class="Keyword">import</a> <a id="409" href="Data.Star.Decoration.html" class="Module">Data.Star.Decoration</a>
<a id="430" class="Keyword">open</a> <a id="435" class="Keyword">import</a> <a id="442" href="Data.Star.Pointer.html" class="Module">Data.Star.Pointer</a>
<a id="460" class="Keyword">open</a> <a id="465" class="Keyword">import</a> <a id="472" href="Data.Star.List.html" class="Module">Data.Star.List</a> <a id="487" class="Keyword">using</a> <a id="493" class="Symbol">(</a><a id="494" href="Data.Star.List.html#569" class="Function">List</a><a id="498" class="Symbol">)</a>
<a id="500" class="Keyword">open</a> <a id="505" class="Keyword">import</a> <a id="512" href="Data.Unit.html" class="Module">Data.Unit</a>
<a id="522" class="Keyword">open</a> <a id="527" class="Keyword">import</a> <a id="534" href="Function.Base.html" class="Module">Function.Base</a> <a id="548" class="Keyword">using</a> <a id="554" class="Symbol">(</a><a id="555" href="Function.Base.html#725" class="Function">const</a><a id="560" class="Symbol">)</a>
<a id="562" class="Keyword">open</a> <a id="567" class="Keyword">import</a> <a id="574" href="Relation.Binary.html" class="Module">Relation.Binary</a>
<a id="590" class="Keyword">open</a> <a id="595" class="Keyword">import</a> <a id="602" href="Relation.Binary.Consequences.html" class="Module">Relation.Binary.Consequences</a>
<a id="631" class="Keyword">open</a> <a id="636" class="Keyword">import</a> <a id="643" href="Relation.Binary.Construct.Closure.ReflexiveTransitive.html" class="Module">Relation.Binary.Construct.Closure.ReflexiveTransitive</a>

<a id="698" class="Comment">------------------------------------------------------------------------</a>
<a id="771" class="Comment">-- The type</a>

<a id="784" class="Comment">-- Finite sets decorated with elements (note the use of suc).</a>

<a id="BoundedVec"></a><a id="847" href="Data.Star.BoundedVec.html#847" class="Function">BoundedVec</a> <a id="858" class="Symbol">:</a> <a id="860" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="864" class="Symbol">→</a> <a id="866" href="Data.Star.Nat.html#563" class="Function">ℕ</a> <a id="868" class="Symbol">→</a> <a id="870" href="Agda.Primitive.html#320" class="Primitive">Set</a>
<a id="874" href="Data.Star.BoundedVec.html#847" class="Function">BoundedVec</a> <a id="885" href="Data.Star.BoundedVec.html#885" class="Bound">a</a> <a id="887" href="Data.Star.BoundedVec.html#887" class="Bound">n</a> <a id="889" class="Symbol">=</a> <a id="891" href="Data.Star.Pointer.html#1458" class="Function">Any</a> <a id="895" class="Symbol">(λ</a> <a id="898" href="Data.Star.BoundedVec.html#898" class="Bound">_</a> <a id="900" class="Symbol">→</a> <a id="902" href="Data.Star.BoundedVec.html#885" class="Bound">a</a><a id="903" class="Symbol">)</a> <a id="905" class="Symbol">(λ</a> <a id="908" href="Data.Star.BoundedVec.html#908" class="Bound">_</a> <a id="910" class="Symbol">→</a> <a id="912" href="Agda.Builtin.Unit.html#158" class="Record">⊤</a><a id="913" class="Symbol">)</a> <a id="915" class="Symbol">(</a><a id="916" href="Data.Star.Nat.html#637" class="Function">suc</a> <a id="920" href="Data.Star.BoundedVec.html#887" class="Bound">n</a><a id="921" class="Symbol">)</a>

<a id="[]"></a><a id="924" href="Data.Star.BoundedVec.html#924" class="Function">[]</a> <a id="927" class="Symbol">:</a> <a id="929" class="Symbol">∀</a> <a id="931" class="Symbol">{</a><a id="932" href="Data.Star.BoundedVec.html#932" class="Bound">a</a> <a id="934" href="Data.Star.BoundedVec.html#934" class="Bound">n</a><a id="935" class="Symbol">}</a> <a id="937" class="Symbol">→</a> <a id="939" href="Data.Star.BoundedVec.html#847" class="Function">BoundedVec</a> <a id="950" href="Data.Star.BoundedVec.html#932" class="Bound">a</a> <a id="952" href="Data.Star.BoundedVec.html#934" class="Bound">n</a>
<a id="954" href="Data.Star.BoundedVec.html#924" class="Function">[]</a> <a id="957" class="Symbol">=</a> <a id="959" href="Data.Star.Pointer.html#1694" class="Function">this</a> <a id="964" href="Agda.Builtin.Unit.html#195" class="InductiveConstructor">tt</a>

<a id="968" class="Keyword">infixr</a> <a id="975" class="Number">5</a> <a id="977" href="Data.Star.BoundedVec.html#982" class="Function Operator">_∷_</a>

<a id="_∷_"></a><a id="982" href="Data.Star.BoundedVec.html#982" class="Function Operator">_∷_</a> <a id="986" class="Symbol">:</a> <a id="988" class="Symbol">∀</a> <a id="990" class="Symbol">{</a><a id="991" href="Data.Star.BoundedVec.html#991" class="Bound">a</a> <a id="993" href="Data.Star.BoundedVec.html#993" class="Bound">n</a><a id="994" class="Symbol">}</a> <a id="996" class="Symbol">→</a> <a id="998" href="Data.Star.BoundedVec.html#991" class="Bound">a</a> <a id="1000" class="Symbol">→</a> <a id="1002" href="Data.Star.BoundedVec.html#847" class="Function">BoundedVec</a> <a id="1013" href="Data.Star.BoundedVec.html#991" class="Bound">a</a> <a id="1015" href="Data.Star.BoundedVec.html#993" class="Bound">n</a> <a id="1017" class="Symbol">→</a> <a id="1019" href="Data.Star.BoundedVec.html#847" class="Function">BoundedVec</a> <a id="1030" href="Data.Star.BoundedVec.html#991" class="Bound">a</a> <a id="1032" class="Symbol">(</a><a id="1033" href="Data.Star.Nat.html#637" class="Function">suc</a> <a id="1037" href="Data.Star.BoundedVec.html#993" class="Bound">n</a><a id="1038" class="Symbol">)</a>
<a id="1040" href="Data.Star.BoundedVec.html#982" class="Function Operator">_∷_</a> <a id="1044" class="Symbol">=</a> <a id="1046" href="Data.Star.Pointer.html#1800" class="Function">that</a>

<a id="1052" class="Comment">------------------------------------------------------------------------</a>
<a id="1125" class="Comment">-- Increasing the bound</a>

<a id="1150" class="Comment">-- Note that this operation is linear in the length of the list.</a>

<a id="↑"></a><a id="1216" href="Data.Star.BoundedVec.html#1216" class="Function">↑</a> <a id="1218" class="Symbol">:</a> <a id="1220" class="Symbol">∀</a> <a id="1222" class="Symbol">{</a><a id="1223" href="Data.Star.BoundedVec.html#1223" class="Bound">a</a> <a id="1225" href="Data.Star.BoundedVec.html#1225" class="Bound">n</a><a id="1226" class="Symbol">}</a> <a id="1228" class="Symbol">→</a> <a id="1230" href="Data.Star.BoundedVec.html#847" class="Function">BoundedVec</a> <a id="1241" href="Data.Star.BoundedVec.html#1223" class="Bound">a</a> <a id="1243" href="Data.Star.BoundedVec.html#1225" class="Bound">n</a> <a id="1245" class="Symbol">→</a> <a id="1247" href="Data.Star.BoundedVec.html#847" class="Function">BoundedVec</a> <a id="1258" href="Data.Star.BoundedVec.html#1223" class="Bound">a</a> <a id="1260" class="Symbol">(</a><a id="1261" href="Data.Star.Nat.html#637" class="Function">suc</a> <a id="1265" href="Data.Star.BoundedVec.html#1225" class="Bound">n</a><a id="1266" class="Symbol">)</a>
<a id="1268" href="Data.Star.BoundedVec.html#1216" class="Function">↑</a> <a id="1270" class="Symbol">{</a><a id="1271" href="Data.Star.BoundedVec.html#1271" class="Bound">a</a><a id="1272" class="Symbol">}</a> <a id="1274" class="Symbol">=</a> <a id="1276" href="Relation.Binary.Construct.Closure.ReflexiveTransitive.html#1539" class="Function">gmap</a> <a id="1281" href="Data.Star.BoundedVec.html#1300" class="Function">inc</a> <a id="1285" href="Data.Star.BoundedVec.html#1338" class="Function">lift</a>
  <a id="1292" class="Keyword">where</a>
  <a id="1300" href="Data.Star.BoundedVec.html#1300" class="Function">inc</a> <a id="1304" class="Symbol">=</a> <a id="1306" href="Data.Maybe.Base.html#2049" class="Function">Maybe.map</a> <a id="1316" class="Symbol">(</a><a id="1317" href="Relation.Binary.Consequences.html#7207" class="Function">map-NonEmpty</a> <a id="1330" href="Data.Star.Nat.html#637" class="Function">suc</a><a id="1333" class="Symbol">)</a>

  <a id="1338" href="Data.Star.BoundedVec.html#1338" class="Function">lift</a> <a id="1343" class="Symbol">:</a> <a id="1345" href="Data.Star.Pointer.html#800" class="Datatype">Pointer</a> <a id="1353" class="Symbol">(λ</a> <a id="1356" href="Data.Star.BoundedVec.html#1356" class="Bound">_</a> <a id="1358" class="Symbol">→</a> <a id="1360" href="Data.Star.BoundedVec.html#1271" class="Bound">a</a><a id="1361" class="Symbol">)</a> <a id="1363" class="Symbol">(λ</a> <a id="1366" href="Data.Star.BoundedVec.html#1366" class="Bound">_</a> <a id="1368" class="Symbol">→</a> <a id="1370" href="Agda.Builtin.Unit.html#158" class="Record">⊤</a><a id="1371" class="Symbol">)</a> <a id="1373" href="Relation.Binary.Core.html#1474" class="Function Operator">=[</a> <a id="1376" href="Data.Star.BoundedVec.html#1300" class="Function">inc</a> <a id="1380" href="Relation.Binary.Core.html#1474" class="Function Operator">]⇒</a>
         <a id="1392" href="Data.Star.Pointer.html#800" class="Datatype">Pointer</a> <a id="1400" class="Symbol">(λ</a> <a id="1403" href="Data.Star.BoundedVec.html#1403" class="Bound">_</a> <a id="1405" class="Symbol">→</a> <a id="1407" href="Data.Star.BoundedVec.html#1271" class="Bound">a</a><a id="1408" class="Symbol">)</a> <a id="1410" class="Symbol">(λ</a> <a id="1413" href="Data.Star.BoundedVec.html#1413" class="Bound">_</a> <a id="1415" class="Symbol">→</a> <a id="1417" href="Agda.Builtin.Unit.html#158" class="Record">⊤</a><a id="1418" class="Symbol">)</a>
  <a id="1422" href="Data.Star.BoundedVec.html#1338" class="Function">lift</a> <a id="1427" class="Symbol">(</a><a id="1428" href="Data.Star.Pointer.html#944" class="InductiveConstructor">step</a> <a id="1433" href="Data.Star.BoundedVec.html#1433" class="Bound">x</a><a id="1434" class="Symbol">)</a> <a id="1436" class="Symbol">=</a> <a id="1438" href="Data.Star.Pointer.html#944" class="InductiveConstructor">step</a> <a id="1443" href="Data.Star.BoundedVec.html#1433" class="Bound">x</a>
  <a id="1447" href="Data.Star.BoundedVec.html#1338" class="Function">lift</a> <a id="1452" class="Symbol">(</a><a id="1453" href="Data.Star.Pointer.html#1107" class="InductiveConstructor">done</a> <a id="1458" class="Symbol">_)</a> <a id="1461" class="Symbol">=</a> <a id="1463" href="Data.Star.Pointer.html#1107" class="InductiveConstructor">done</a> <a id="1468" class="Symbol">_</a>

<a id="1471" class="Comment">------------------------------------------------------------------------</a>
<a id="1544" class="Comment">-- Conversions</a>

<a id="fromList"></a><a id="1560" href="Data.Star.BoundedVec.html#1560" class="Function">fromList</a> <a id="1569" class="Symbol">:</a> <a id="1571" class="Symbol">∀</a> <a id="1573" class="Symbol">{</a><a id="1574" href="Data.Star.BoundedVec.html#1574" class="Bound">a</a><a id="1575" class="Symbol">}</a> <a id="1577" class="Symbol">→</a> <a id="1579" class="Symbol">(</a><a id="1580" href="Data.Star.BoundedVec.html#1580" class="Bound">xs</a> <a id="1583" class="Symbol">:</a> <a id="1585" href="Data.Star.List.html#569" class="Function">List</a> <a id="1590" href="Data.Star.BoundedVec.html#1574" class="Bound">a</a><a id="1591" class="Symbol">)</a> <a id="1593" class="Symbol">→</a> <a id="1595" href="Data.Star.BoundedVec.html#847" class="Function">BoundedVec</a> <a id="1606" href="Data.Star.BoundedVec.html#1574" class="Bound">a</a> <a id="1608" class="Symbol">(</a><a id="1609" href="Data.Star.Nat.html#693" class="Function">length</a> <a id="1616" href="Data.Star.BoundedVec.html#1580" class="Bound">xs</a><a id="1618" class="Symbol">)</a>
<a id="1620" href="Data.Star.BoundedVec.html#1560" class="Function">fromList</a> <a id="1629" href="Relation.Binary.Construct.Closure.ReflexiveTransitive.html#560" class="InductiveConstructor">ε</a>        <a id="1638" class="Symbol">=</a> <a id="1640" href="Data.Star.BoundedVec.html#924" class="Function">[]</a>
<a id="1643" href="Data.Star.BoundedVec.html#1560" class="Function">fromList</a> <a id="1652" class="Symbol">(</a><a id="1653" href="Data.Star.BoundedVec.html#1653" class="Bound">x</a> <a id="1655" href="Relation.Binary.Construct.Closure.ReflexiveTransitive.html#587" class="InductiveConstructor Operator">◅</a> <a id="1657" href="Data.Star.BoundedVec.html#1657" class="Bound">xs</a><a id="1659" class="Symbol">)</a> <a id="1661" class="Symbol">=</a> <a id="1663" href="Data.Star.BoundedVec.html#1653" class="Bound">x</a> <a id="1665" href="Data.Star.BoundedVec.html#982" class="Function Operator">∷</a> <a id="1667" href="Data.Star.BoundedVec.html#1560" class="Function">fromList</a> <a id="1676" href="Data.Star.BoundedVec.html#1657" class="Bound">xs</a>

<a id="toList"></a><a id="1680" href="Data.Star.BoundedVec.html#1680" class="Function">toList</a> <a id="1687" class="Symbol">:</a> <a id="1689" class="Symbol">∀</a> <a id="1691" class="Symbol">{</a><a id="1692" href="Data.Star.BoundedVec.html#1692" class="Bound">a</a> <a id="1694" href="Data.Star.BoundedVec.html#1694" class="Bound">n</a><a id="1695" class="Symbol">}</a> <a id="1697" class="Symbol">→</a> <a id="1699" href="Data.Star.BoundedVec.html#847" class="Function">BoundedVec</a> <a id="1710" href="Data.Star.BoundedVec.html#1692" class="Bound">a</a> <a id="1712" href="Data.Star.BoundedVec.html#1694" class="Bound">n</a> <a id="1714" class="Symbol">→</a> <a id="1716" href="Data.Star.List.html#569" class="Function">List</a> <a id="1721" href="Data.Star.BoundedVec.html#1692" class="Bound">a</a>
<a id="1723" href="Data.Star.BoundedVec.html#1680" class="Function">toList</a> <a id="1730" href="Data.Star.BoundedVec.html#1730" class="Bound">xs</a> <a id="1733" class="Symbol">=</a> <a id="1735" href="Relation.Binary.Construct.Closure.ReflexiveTransitive.html#1539" class="Function">gmap</a> <a id="1740" class="Symbol">(</a><a id="1741" href="Function.Base.html#725" class="Function">const</a> <a id="1747" href="Agda.Builtin.Unit.html#195" class="InductiveConstructor">tt</a><a id="1749" class="Symbol">)</a> <a id="1751" href="Data.Star.Decoration.html#1331" class="Function">decoration</a> <a id="1762" class="Symbol">(</a><a id="1763" href="Data.Star.Pointer.html#3001" class="Function">init</a> <a id="1768" href="Data.Star.BoundedVec.html#1730" class="Bound">xs</a><a id="1770" class="Symbol">)</a>
</pre></body></html>